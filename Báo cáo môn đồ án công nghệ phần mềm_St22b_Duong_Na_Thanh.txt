
B? GI�O D?C V� ?�O T?O
TR??NG ??I H?C ?�NG �
KHOA C�NG NGH? TH�NG TIN



B�O C�O M�N ?? �N C�NG NGH? PH?N M?N 

?? T�I: H? TH?NG GI�M S�T V� ?I?U KHI?N N�NG NGHI?P TH�NG MINH D?A TR�N IOT 

         Gi�o vi�n h??ng d?n : 
         H? v� t�n sinh vi�n	: L� H?u D??ng 100008
	  Tr?n N? H? Na 100347
	  H? Th?ng Th�nh
         L?p	: ST22B





?� N?ng, ng�y �. th�ng �. n?m 2025
L??I CA?M ?N
	Tr??c ti�n, ch�ng em xin g?i l?i c?m ?n ch�n th�nh ??n qu� th?y c� trong khoa C�ng ngh? Th�ng tin, nh?ng ng??i ?� t?n t�nh gi?ng d?y v� trang b? cho ch�ng em nh?ng ki?n th?c n?n t?ng qu� b�u trong su?t qu� tr�nh h?c t?p t?i tr??ng.
    ??c bi?t, ch�ng em xin b�y t? l�ng bi?t ?n s�u s?c ??n ..., ng??i ?� tr?c ti?p h??ng d?n, ??nh h??ng v� h? tr? ch�ng em trong su?t qu� tr�nh th?c hi?n ?? �n n�y. Nh?ng g�p � qu� gi� v� s? ??ng vi�n c?a th?y/c� ?� gi�p ch�ng em ho�n thi?n ?? �n m?t c�ch t?t nh?t.
    Ch�ng em c?ng xin c?m ?n c�c b?n h?c, ??ng nghi?p v� gia ?�nh ?� lu�n ??ng h�nh, h? tr? v� ??ng vi�n ch�ng em trong su?t qu� tr�nh nghi�n c?u v� ph�t tri?n h? th?ng IoT cho ?? �n n�y.
    M?c d� ?� c? g?ng h?t s?c, ?? �n v?n kh�ng th? tr�nh kh?i nh?ng thi?u s�t. Ch�ng em r?t mong nh?n ???c nh?ng � ki?n ?�ng g�p qu� b�u t? th?y c� v� c�c b?n ?? ?? �n ???c ho�n thi?n h?n.
Tr�n tr?ng,
Nho?m Hi



M?C L?C
CH??NG 1: GI?I THI?U ?? T�I	5
1.1: L� do ch?n ?? t�i	5
1.1.1: B?i c?nh v� � ngh?a c?a ?? t�i	5
1.1.2: M?c ti�u v� � ngh?a th?c ti?n c?a ?? t�i	5
1.1.3: T?m quan tr?ng	6
1.2: V?n ?? ??t ra	7
1.3: M?c ti�u	7
1.3.1: ?ng d?ng c�ng ngh? IoT ?? gi�m s�t v� ?i?u khi?n t? ??ng	7
1.3.2: Ph�t tri?n ?ng d?ng di ??ng v� h? th?ng Backend	8
1.3.3: T�ch h?p logic t? ??ng v� h? th?ng c?nh b�o	8
1.3.4: Qu?n l� ?a thi?t b? v� h? tr? ?a m� h�nh canh t�c	8
1.3.5: L?u tr? v� ph�n t�ch d? li?u d�i h?n	8
1.4: Ph?m vi ?? t�i	9
1.4.1: Ph?n c?ng	9
1.4.2: Ph?n m?m	9
1.4.3: ??i t??ng s? d?ng	10
1.4.4: Ph?m vi ?ng d?ng	10
CH??NG 2: C? S?? LY? THUY�?T VA? NGHI�N C??U LI�N QUAN	11
2.1: T?ng quan IoT v� ?ng d?ng trong n�ng nghi?p.	11
2.1.1: Kha?i ni�?m :	11
2.1.2: ??ng du?ng trong n�ng nghi�?p:	11
2.1.3: T�?ng quan ESP32	12
2.1.4: T�?ng quan ca?m bi�?n Soil( ?�? �?m ?�?t) :	13
2.1.5: T�?ng quan DHT11:	15
2.1.6: T�?ng quan BH1750:	17
2.1.7: T�?ng quan pH:	19
CH??NG 3: PH�N T�CH H? TH?NG	22
3.1: Y�u c?u ch?c n?ng	22
3.2: Ma tr?n Ng??i d�ng � Ch?c n?ng	22
3.3: Bi?u ?? m� h�nh	23
CH??NG 4: Thi?t k? h? th?ng	38
4.1: Ki?n tr�c t?ng th? (thi?t b? � server � app, ?a thi?t b?).	38
4.2: Thi?t k? ph?n c?ng (s? ?? k?t n?i ESP32 � c?m bi?n � relay).	39
4.3: Thi?t k? ph?n m?m:	41
4.4: Thi?t k? c? s? d? li?u:	41
4.5: Giao di?n App: danh s�ch thi?t b?, dashboard t?ng thi?t b?, l?ch t??i, c?nh b�o.	44
CH??NG 5: Gi?i ph�p c�ng ngh? v� ph?n c?ng	45
CH??NG 6: K?t qu? v� s?n ph?m	45
CH??NG 7: K? ho?ch v� ti?n ??	45
CH??NG 8: K?t lu?n v� h??ng ph�t tri?n	46




CH??NG 1: GI?I THI?U ?? T�I
1.1: L� do ch?n ?? t�i
1.1.1: B?i c?nh v� � ngh?a c?a ?? t�i
Trong n�ng nghi?p truy?n th?ng, ng??i n�ng d�n th??ng ph?i ??i m?t v?i nhi?u kh� kh?n trong vi?c gi�m s�t v� qu?n l� c�c y?u t? m�i tr??ng quan tr?ng nh? ?? ?m ??t, nhi?t ??, �nh s�ng, ?? pH, v� c�c th�ng s? li�n quan kh�c. C�c ho?t ??ng nh? t??i ti�u, b�n ph�n hay ch?m s�c c�y tr?ng ch? y?u ???c th?c hi?n d?a tr�n kinh nghi?m c� nh�n v� c�c ph??ng ph�p th? c�ng. C�ch ti?p c?n n�y kh�ng ch? t?n nhi?u th?i gian, c�ng s?c m� c�n ti?m ?n nhi?u h?n ch?. Ch?ng h?n, vi?c t??i n??c kh�ng ?�ng th?i ?i?m ho?c kh�ng ?�ng l??ng c� th? d?n ??n l�ng ph� ngu?n n??c, g�y ng?p �ng ho?c thi?u n??c cho c�y tr?ng, t? ?� l�m gi?m n?ng su?t v� ch?t l??ng n�ng s?n. H?n n?a, vi?c thi?u d? li?u ch�nh x�c v? ?i?u ki?n m�i tr??ng khi?n ng??i n�ng d�n kh� ??a ra c�c quy?t ??nh t?i ?u, d?n ??n vi?c s? d?ng t�i nguy�n ch?a hi?u qu?, t?ng chi ph� s?n xu?t v� g�y ?nh h??ng ti�u c?c ??n m�i tr??ng.
Trong b?i c?nh cu?c c�ch m?ng c�ng nghi?p 4.0, c�c c�ng ngh? ti�n ti?n nh? Internet v?n v?t (IoT), tr� tu? nh�n t?o (AI), v� d? li?u l?n (Big Data) ?� v� ?ang t?o ra nh?ng b??c ??t ph� trong nhi?u l?nh v?c, trong ?� c� n�ng nghi?p. N�ng nghi?p th�ng minh (Smart Agriculture) � m?t xu h??ng ?ng d?ng c�ng ngh? hi?n ??i v�o s?n xu?t n�ng nghi?p � ?ang ng�y c�ng ph�t tri?n m?nh m? tr�n to�n c?u. H? th?ng gi�m s�t v� ?i?u khi?n d?a tr�n c�ng ngh? IoT cho ph�p thu th?p, ph�n t�ch d? li?u m�i tr??ng theo th?i gian th?c, t? ?� h? tr? ng??i n�ng d�n ??a ra c�c quy?t ??nh ch�nh x�c v� k?p th?i. C�c h? th?ng n�y kh�ng ch? gi�p t? ??ng h�a c�c quy tr�nh nh? t??i ti�u, ?i?u ch?nh �nh s�ng hay cung c?p dinh d??ng m� c�n t?i ?u h�a vi?c s? d?ng t�i nguy�n, gi?m thi?u t�c ??ng ti�u c?c ??n m�i tr??ng v� n�ng cao hi?u qu? s?n xu?t.
1.1.2: M?c ti�u v� � ngh?a th?c ti?n c?a ?? t�i
Xu?t ph�t t? nh?ng h?n ch? c?a ph??ng ph�p canh t�c truy?n th?ng v� ti?m n?ng to l?n c?a c�ng ngh? IoT trong n�ng nghi?p, nh�m ch�ng em quy?t ??nh l?a ch?n ?? t�i �H? th?ng gi�m s�t v� ?i?u khi?n n�ng nghi?p th�ng minh d?a tr�n IoT� ?? nghi�n c?u v� ph�t tri?n. M?c ti�u ch�nh c?a ?? t�i l� thi?t k?, x�y d?ng v� th? nghi?m m?t m� h�nh h? th?ng n�ng nghi?p th�ng minh c� t�nh kh? thi cao, ph� h?p v?i ?i?u ki?n th?c t? t?i Vi?t Nam. H? th?ng n�y s? t�ch h?p c�c c?m bi?n ?? thu th?p d? li?u v? c�c th�ng s? m�i tr??ng nh? ?? ?m ??t, nhi?t ??, �nh s�ng, ?? pH v� c�c y?u t? kh�c, sau ?� s? d?ng c�c thi?t b? ?i?u khi?n ?? t? ??ng h�a c�c ho?t ??ng nh? t??i ti�u, ?i?u ch?nh �nh s�ng ho?c cung c?p dinh d??ng cho c�y tr?ng.
?? t�i kh�ng ch? d?ng l?i ? vi?c nghi�n c?u l� thuy?t m� c�n h??ng ??n vi?c x�y d?ng m?t m� h�nh th?c nghi?m, gi�p ki?m ch?ng t�nh hi?u qu? c?a h? th?ng trong ?i?u ki?n th?c t?. Th�ng qua vi?c ?ng d?ng c�ng ngh? IoT, h? th?ng s? cung c?p cho ng??i n�ng d�n kh? n?ng gi�m s�t li�n t?c c�c th�ng s? m�i tr??ng th�ng qua c�c thi?t b? th�ng minh nh? ?i?n tho?i ho?c m�y t�nh. ??ng th?i, h? th?ng s? t? ??ng ??a ra c�c h�nh ??ng ?i?u ch?nh ph� h?p d?a tr�n d? li?u thu th?p ???c, t? ?� gi?m thi?u s? ph? thu?c v�o kinh nghi?m c� nh�n v� t?i ?u h�a quy tr�nh s?n xu?t.
1.1.3: T?m quan tr?ng
�H? th?ng gi�m s�t v� ?i?u khi?n n�ng nghi?p th�ng minh d?a tr�n IoT� kh�ng ch? ?�p ?ng nhu c?u th?c ti?n c?a ng??i n�ng d�n m� c�n ph� h?p v?i xu h??ng ph�t tri?n c�ng ngh? trong th?i ??i c�ch m?ng c�ng nghi?p 4.0. Th�ng qua vi?c nghi�n c?u v� x�y d?ng m� h�nh n�y, nh�m ch�ng em hy v?ng s? ?�ng g�p m?t ph?n nh? v�o s? ph�t tri?n c?a n?n n�ng nghi?p hi?n ??i, ??ng th?i mang l?i nh?ng gi� tr? th?c ti?n, gi�p c?i thi?n hi?u qu? s?n xu?t, ti?t ki?m t�i nguy�n v� b?o v? m�i tr??ng. Trong c�c ph?n ti?p theo, ch�ng em s? tr�nh b�y chi ti?t v? c? s? l� thuy?t, ph??ng ph�p nghi�n c?u, thi?t k? h? th?ng v� k?t qu? th? nghi?m, nh?m l�m r� t�nh kh? thi v� hi?u qu? c?a m� h�nh ?? xu?t.



1.2: V?n ?? ??t ra
Trong b?i c?nh n?n n�ng nghi?p truy?n th?ng ?ang ph?i ??i m?t v?i nhi?u th�ch th?c, vi?c c?i ti?n v� hi?n ??i h�a c�c ph??ng ph�p canh t�c tr? th�nh m?t nhu c?u c?p thi?t ?? ?�p ?ng y�u c?u ng�y c�ng cao v? n?ng su?t, ch?t l??ng n�ng s?n v� t�nh b?n v?ng. C�c ph??ng ph�p canh t�c truy?n th?ng ch? y?u d?a v�o kinh nghi?m c� nh�n c?a ng??i n�ng d�n v� c�c thao t�c th? c�ng trong vi?c gi�m s�t, qu?n l� c�c y?u t? m�i tr??ng nh? ?? ?m ??t, nhi?t ??, �nh s�ng, ?? pH, v� c�c th�ng s? kh�c. Tuy nhi�n, c�ch ti?p c?n n�y th??ng g?p nhi?u h?n ch?, bao g?m vi?c thi?u d? li?u ch�nh x�c v� k?p th?i, d?n ??n vi?c ra quy?t ??nh kh�ng t?i ?u. V� d?, vi?c t??i ti�u kh�ng ?�ng th?i ?i?m ho?c kh�ng ?�ng l??ng c� th? g�y l�ng ph� n??c, l�m ng?p �ng ho?c thi?u n??c cho c�y tr?ng, t? ?� ?nh h??ng ti�u c?c ??n n?ng su?t v� ch?t l??ng n�ng s?n. T??ng t?, vi?c s? d?ng ph�n b�n, thu?c b?o v? th?c v?t, ho?c n?ng l??ng ?i?n m?t c�ch kh�ng hi?u qu? kh�ng ch? l�m t?ng chi ph� s?n xu?t m� c�n g�y t�c ??ng x?u ??n m�i tr??ng, nh? � nhi?m ??t v� ngu?n n??c.
B�n c?nh ?�, c�c ph??ng ph�p truy?n th?ng th??ng thi?u kh? n?ng ?�p ?ng linh ho?t ??i v?i c�c ?i?u ki?n canh t�c ?a d?ng, ch?ng h?n nh? trong c�c m� h�nh nh� k�nh, nh� l??i, trang tr?i quy m� l?n, ho?c c�c khu v??n nh? l?. Vi?c qu?n l� t?ng khu v?c canh t�c ri�ng l? th??ng ?�i h?i nhi?u c�ng s?c v� th?i gian, trong khi hi?u qu? ??t ???c l?i kh�ng cao. ?i?u n�y ??t ra y�u c?u v? m?t gi?i ph�p c�ng ngh? hi?n ??i, c� kh? n?ng t�ch h?p v� t? ??ng h�a c�c quy tr�nh nh? gi�m s�t m�i tr??ng, t??i ti�u, cung c?p dinh d??ng, v� ?i?u ch?nh �nh s�ng, nh?m gi?m thi?u s? ph? thu?c v�o lao ??ng th? c�ng v� n�ng cao t�nh ch�nh x�c trong qu?n l�.
1.3: M?c ti�u
1.3.1: ?ng d?ng c�ng ngh? IoT ?? gi�m s�t v� ?i?u khi?n t? ??ng
T�ch h?p c�c c?m bi?n IoT ?? thu th?p d? li?u th?i gian th?c v? c�c th�ng s? m�i tr??ng quan tr?ng nh? ?? ?m ??t, nhi?t ??, �nh s�ng, ?? pH v� t?ng ch?t r?n h�a tan (TDS).
?i?u khi?n t? ??ng c�c thi?t b? nh? b?m t??i n??c, qu?t th�ng gi�, v� ?�n chi?u s�ng d?a tr�n d? li?u thu th?p ???c, nh?m ??m b?o ?i?u ki?n t?i ?u cho s? ph�t tri?n c?a c�y tr?ng.
1.3.2: Ph�t tri?n ?ng d?ng di ??ng v� h? th?ng Backend
X�y d?ng m?t ?ng d?ng di ??ng s? d?ng Flutter, cho ph�p ng??i d�ng theo d�i d? li?u m�i tr??ng v� ?i?u khi?n c�c thi?t b? t? xa m?t c�ch d? d�ng th�ng qua giao di?n th�n thi?n.
Ph�t tri?n h? th?ng Backend s? d?ng Node.js k?t h?p v?i c? s? d? li?u MongoDB ?? l?u tr?, qu?n l� v� x? l� d? li?u, ??m b?o t�nh ?n ??nh v� kh? n?ng m? r?ng c?a h? th?ng.
1.3.3: T�ch h?p logic t? ??ng v� h? th?ng c?nh b�o
X�y d?ng c�c thu?t to�n logic t? ??ng ?? h? th?ng t? ?i?u ch?nh ho?t ??ng c?a c�c thi?t b? (v� d?: k�ch ho?t b?m t??i khi ?? ?m ??t d??i ng??ng).
Cung c?p ch?c n?ng c?nh b�o t?c th?i qua ?ng d?ng di ??ng khi c�c th�ng s? m�i tr??ng v??t qu� ng??ng an to�n, gi�p ng??i d�ng k?p th?i x? l� c�c t�nh hu?ng b?t th??ng.
1.3.4: Qu?n l� ?a thi?t b? v� h? tr? ?a m� h�nh canh t�c
Thi?t k? h? th?ng v?i kh? n?ng qu?n l� nhi?u thi?t b? th�ng qua ??nh danh (Device ID), cho ph�p gi�m s�t v� ?i?u khi?n ??ng th?i nhi?u khu v?c canh t�c kh�c nhau nh? nh� k�nh, nh� l??i, trang tr?i, ho?c khu v??n nh?.
??m b?o t�nh linh ho?t ?? h? th?ng c� th? �p d?ng cho c�c m� h�nh n�ng nghi?p ?a d?ng, ph� h?p v?i nhu c?u v� ?i?u ki?n c? th? c?a t?ng khu v?c.
1.3.5: L?u tr? v� ph�n t�ch d? li?u d�i h?n
X�y d?ng c? ch? l?u tr? d? li?u m�i tr??ng d�i h?n tr�n h? th?ng Backend ?? ph�n t�ch xu h??ng v� hi?u qu? canh t�c.
T?o n?n t?ng d? li?u c� c?u tr�c, l�m c? s? cho vi?c ?ng d?ng tr� tu? nh�n t?o (AI) ?? d? ?o�n v� t?i ?u h�a quy tr�nh s?n xu?t, ho?c t�ch h?p b?n ?? s? (GIS) nh?m h? tr? qu?n l� kh�ng gian v� l?p k? ho?ch canh t�c trong t??ng lai.

1.4: Ph?m vi ?? t�i
1.4.1: Ph?n c?ng
- H? th?ng ph?n c?ng ???c thi?t k? d?a tr�n vi ?i?u khi?n ESP32, m?t n?n t?ng m?nh m?, ti?t ki?m chi ph� v� h? tr? k?t n?i Wi-Fi/Bluetooth, ph� h?p cho c�c ?ng d?ng IoT. C�c th�nh ph?n ph?n c?ng ch�nh bao g?m:

C?m bi?n:
- C?m bi?n ?? ?m ??t (Soil Moisture): Thu th?p d? li?u v? ?? ?m c?a ??t ?? x�c ??nh th?i ?i?m v� l??ng n??c c?n t??i, gi�p t?i ?u h�a vi?c t??i ti�u.
- C?m bi?n nhi?t ?? v� ?? ?m kh�ng kh� (DHT11): ?o l??ng nhi?t ?? v� ?? ?m kh�ng kh�, cung c?p th�ng tin v? ?i?u ki?n m�i tr??ng xung quanh c�y tr?ng.
- C?m bi?n �nh s�ng (BH1750): ?o c??ng ?? �nh s�ng ?? h? tr? ?i?u ch?nh �nh s�ng ph� h?p cho qu� tr�nh quang h?p c?a c�y.
- C?m bi?n pH v� TDS: ?o ?? pH v� t?ng ch?t r?n h�a tan (TDS) trong n??c, gi�p ?�nh gi� ch?t l??ng n??c t??i v� dinh d??ng cung c?p cho c�y tr?ng.

Thi?t b? ch?p h�nh:
- Relay ?i?u khi?n: S? d?ng ?? b?t/t?t c�c thi?t b? nh? b?m t??i n??c, qu?t th�ng gi� v� ?�n chi?u s�ng, ??m b?o t? ??ng h�a c�c ho?t ??ng ch?m s�c c�y tr?ng d?a tr�n d? li?u t? c?m bi?n.
1.4.2: Ph?n m?m
- H? th?ng ph?n m?m ???c x�y d?ng ?? h? tr? gi�m s�t, ?i?u khi?n v� ph�n t�ch d? li?u, bao g?m c�c th�nh ph?n ch�nh sau:
?ng d?ng di ??ng (Flutter App):
- Ph�t tri?n ?ng d?ng di ??ng s? d?ng Flutter, cho ph�p ng??i d�ng cu?i (n�ng d�n ho?c qu?n l�) theo d�i d? li?u m�i tr??ng th?i gian th?c, ?i?u khi?n c�c thi?t b? (b?m, qu?t, ?�n), ??t l?ch t??i ho?c chi?u s�ng, v� nh?n th�ng b�o khi c� s? c?.
- Giao di?n th�n thi?n, d? s? d?ng, t??ng th�ch v?i c? Android v� iOS.
H? th?ng Backend (Node.js + MongoDB):
- S? d?ng Node.js ?? x�y d?ng Backend, k?t h?p v?i c? s? d? li?u MongoDB ?? l?u tr? v� x? l� d? li?u t? c�c c?m bi?n.
- ??m b?o kh? n?ng qu?n l� d? li?u l?n, h? tr? truy xu?t nhanh v� ph�n t�ch d? li?u d�i h?n.
Giao ti?p IoT:
- S? d?ng giao th?c MQTT v� HTTP ?? ??m b?o truy?n d? li?u hi?u qu?, ?n ??nh gi?a c�c thi?t b? IoT (ESP32) v� m�y ch?.
- MQTT ???c s? d?ng ?? truy?n d? li?u c?m bi?n v� l?nh ?i?u khi?n theo th?i gian th?c, trong khi HTTP h? tr? c�c y�u c?u truy c?p d? li?u t? ?ng d?ng di ??ng.
H? th?ng c?nh b�o:
- T�ch h?p Firebase Cloud Messaging (FCM) ?? g?i th�ng b�o ??y (push notifications) ??n ?ng d?ng di ??ng khi c�c th�ng s? m�i tr??ng (nh? ?? ?m, nhi?t ??, pH) v??t ng??ng an to�n, gi�p ng??i d�ng ph?n ?ng k?p th?i.
1.4.3: ??i t??ng s? d?ng
Ng??i d�ng (N�ng d�n/Qu?n l�):
- Theo d�i d? li?u th?i gian th?c t? c�c c?m bi?n (?? ?m ??t, nhi?t ??, �nh s�ng, pH, TDS) th�ng qua ?ng d?ng di ??ng.
- ?i?u khi?n t? xa c�c thi?t b? nh? b?m, qu?t, ?�n chi?u s�ng, v� thi?t l?p l?ch tr�nh t??i ho?c chi?u s�ng theo nhu c?u.
- Nh?n c?nh b�o t?c th?i qua ?ng d?ng khi ph�t hi?n c�c th�ng s? m�i tr??ng b?t th??ng, t? ?� ??a ra c�c bi?n ph�p x? l� k?p th?i.
H? th?ng t? ??ng:
- T? ??ng x? l� logic d?a tr�n d? li?u t? c?m bi?n, k�ch ho?t c�c thi?t b? ch?p h�nh (b?t/t?t b?m, qu?t, ?�n) khi c�c th�ng s? m�i tr??ng v??t ng??ng c�i ??t.
- T?i ?u h�a quy tr�nh ch?m s�c c�y tr?ng, gi?m thi?u s? ph? thu?c v�o thao t�c th? c�ng v� n�ng cao hi?u qu? s? d?ng t�i nguy�n.
1.4.4: Ph?m vi ?ng d?ng
- H? th?ng ???c thi?t k? ?? �p d?ng cho c�c m� h�nh n�ng nghi?p ?a d?ng, bao g?m nh� k�nh, nh� l??i, trang tr?i quy m� l?n, v� c�c khu v??n nh? l?.
- H? tr? qu?n l� ?a thi?t b? th�ng qua ??nh danh (Device ID), cho ph�p gi�m s�t v� ?i?u khi?n ??ng th?i nhi?u khu v?c canh t�c tr�n c�ng m?t n?n t?ng.
- T?o n?n t?ng d? li?u d�i h?n, l�m c? s? cho c�c ?ng d?ng n�ng cao trong t??ng lai nh? t�ch h?p tr� tu? nh�n t?o (AI) ?? d? ?o�n xu h??ng ho?c b?n ?? s? (GIS) ?? qu?n l� kh�ng gian canh t�c.


CH??NG 2: C? S?? LY? THUY�?T VA? NGHI�N C??U LI�N QUAN
2.1: T?ng quan IoT v� ?ng d?ng trong n�ng nghi?p.
2.1.1: Kha?i ni�?m :
   Internet of Things (IoT) l� thu?t ng? d�ng ?? ch? c�c ??i t??ng c� th? ???c nh?n bi?t c?ng nh? s? t?n t?i c?a ch�ng trong m?t ki?n tr�c mang t�nh k?t n?i. ?�y l� m?t vi?n c?nh trong ?� m?i v?t, m?i con v?t ho?c con ng??i ???c cung c?p c�c ??nh danh v� kh? n?ng t? ??ng truy?n t?i d? li?u qua m?t m?ng l??i m� kh�ng c?n s? t??ng t�c gi?a con ng??i-v?i-con ng??i ho?c con ng??i-v?i-m�y t�nh. IoT ti?n ho� t? s? h?i t? c?a c�c c�ng ngh? kh�ng d�y, h? th?ng vi c? ?i?n t? (MEMS) v� Internet. C?m t? n�y ???c ??a ra b?i Kevin Ashton v�o n?m 1999. �ng l� m?t nh� khoa h?c ?� s�ng l?p ra Trung t�m Auto-ID ? ??i h?c MIT.
   "Thing" - s? v?t - trong Internet of Things, c� th? l� m?t trang tr?i ??ng v?t v?i b? ti?p s�ng chip sinh h?c, m?t chi?c xe � t� t�ch h?p c�c c?m bi?n ?? c?nh b�o l�i xe khi l?p qu� non, ho?c b?t k? ?? v?t n�o do t? nhi�n sinh ra ho?c do con ng??i s?n xu?t ra m� c� th? ???c g�n v?i m?t ??a ch? IP v� ???c cung c?p kh? n?ng truy?n t?i d? li?u qua m?ng l??i. 
2.1.2: ??ng du?ng trong n�ng nghi�?p:
-A?p du?ng c�ng ngh�? khoa ho?c va?o toa?n b�? qua? tri?nh trong n�ng nghi�?p ( khe?p ki?n): Cu? th�? la? a?p du?ng c�ng ngh�? th�ng tin, ?i�?n t??, vi�?n th�ng va?o ca?c qua? tri?nh t?? chu�?n bin gi�?ng, ?�?t,.. -> tr�?ng tro?t- ch?n nu�i->thu hoa?ch->ch�? bi�?n-> ba?o qua?n-> ph�n ph�?i-> ?�?n ba?n ?n.
-D?? li�?u thu nh�?p ????c pha?i ta?o tha?nh database ?? quy m� l??n ?�? d�?n t?? ?�?ng ho?a ????c ca? qua? tri?nh( t??c la?: loa?i bo? d�?n �kinh nghi�?m� cu?a con ng???i, chu? ?�?ng nh�?n v�?n ?�? va? ?�? xu�?t ca?ch gia?i quy�?t). N�m na, co? th�? go?i la? tri? tu�? nh�n ta?o, thay con ng???i ??a ra quy�?t ?i?nh.
-Nha? ki?nh - hi�?n ????c s?? du?ng ph�? bi�?n ?? n???c ta, ???c bi�?t la? ?? ?a? La?t - n?i co? l??i th�? v�? khi? h�?u va? th??i ti�?t. Nha? ki?nh ban ?�?u ra ???i v??i mu?c ?i?ch giu?p ta?ch ly c�y tr�?ng v??i ?i�?u ki�?n th??i ti�?t b�n ngoa?i. D�?n d�?n, ????c b�? sung th�m ca?c h�? th�?ng ki�?m soa?t khi? h�?u b�n trong nha? ki?nh( nhi�?t ?�?, ?�? �?m, a?nh sa?ng,..) va? h�? th�?ng ?i�?u khi�?n t???i. Hi�?u n�m na se? co? hai h�? th�?ng nh? sau:
- H�? th�?ng ?i�?u khi�?n t???i: H�? th�?ng bao g�?m ca?c thi�?t bi?: ?�?u t???i nho? gio?t ho??c ?�?u t???i phun s??ng/ m?a, b�? ch�m ph�n, b�? ?i�?u khi�?n t???i,..h�? th�?ng giu?p t??i n???c/ph�n m�?t ca?ch ti�?t ki�?m, hi�?u qua? va? ?a?t n?ng su�?t cao. Giu?p ng???i n�ng d�n gia?m gia? tha?nh chi phi? sa?n xu�?t.
- H�? th�?ng ?i�?u khi�?n vi khi? h�?u: h�? th�?ng bao g�?m ca?c ca?m bi�?n nh�?n bi�?t nhi�?t ?�?, ?�? �?m b�n trong( va? b�n ngoa?i) nha? ki?nh, h�? th�?ng qua?t th�ng gio? ?�? ?�?i l?u kh�ng khi?, h�? th�?ng ?e?n chi�?u sa?ng ?�? co? th�? t?ng c???ng a?nh sa?ng khi c�?n thi�?t, tra?m ?o th??i ti�?t ?�? bi�?t ca?c th�ng s�?: c???ng ?�? b??c xa? m??t tr??i, ca?nh ba?o m?a, t�?c ?�? gio?, l?u l???ng m?a,... Mu?c ?i?ch giu?p nha? ki?nh duy tri? ?? ?i�?u ki�?n mong mu�?n.
   Iot trong n�ng nghi�?p giu?p ng???i n�ng d�n gia?m sa?t sa?n ph�?m va? ca?c ?i�?u ki�?n canh ta?c theo th??i gian th??c. Iot thu th�?p ca?c th�ng tin nhanh cho?ng; co? th�? d?? ?oa?n tr???c v�?n ?�? tr???c khi chu?ng xa?y ra; ??a ra ca?c quy�?t ?i?nh sa?ng su�?t v�? ca?ch tra?nh chu?ng.
2.1.3: T�?ng quan ESP32
2.1.3.1: ESP32
-ESP32 l� m?t chip t�ch h?p Wi-Fi 2.4GHz do h�ng Espressif Systems (Trung Qu?c) ph�t tri?n, ra m?t v�o n?m 2016.
-???c thi?t k? cho c�c ?ng d?ng IoT, ESP32 t�ch h?p kh? n?ng k?t n?i Internet qua Wi-Fi v� Bluetooth, mang l?i hi?u n?ng cao h?n, ph� h?p v?i c�c d? �n gi�m s�t v� ?i?u khi?n ph?c t?p.
2.1.3.2: S? ?�? ch�n va? S? ?�? kh�?i

2.1.3.3: Th�ng s�? ph�?n c??ng:
-32-bit RISC CPU: Xtensa dual-core LX6 ch?y ? 160/240 MHz.
-H? tr? Flash ngo�i: T�ch h?p 4MB flash (c� th? m? r?ng qua SPI).
-64KB RAM d�nh cho ng??i d�ng.
-448KB ROM cho boot v� h? th?ng.
-520KB RAM t?ng c?ng.
-Chu?n Wi-Fi IEEE 802.11 b/g/n, Wi-Fi 2.4 GHz: H? tr? TR switch, balun, LNA, m?ch ?i?u ch?nh tr? kh�ng (matching network) cho WEP, WPA/WPA2, Open network.
-H? tr? Bluetooth 4.2/BLE.
-H? tr? t�ch h?p anten PCB ho?c anten ngo�i.
-16 ch�n GPIO.
-H? tr? SDIO 2.0, UART, SPI, I2C, PWM, I2S v?i DMA.
-1 ADC 12-bit (18 k�nh).
-2 DAC 8-bit.
-10 c?m bi?n ch?m ?i?n dung.
-?i?n �p ho?t ??ng: -40�C ??n 125�C.
2.1.4: T�?ng quan ca?m bi�?n Soil( ?�? �?m ?�?t) :
2.1.4.1: Kha?i ni�?m:
   La? ca?m bi�?n co? th�? ?o chi?nh xa?c ?�? �?m ?�?t. ??ng du?ng trong ca?c project v???n th�ng minh v??i h�? th�?ng t?? ?�?ng khi kh�ng co? ng???i gia?m sa?t. ?�? nha?y cu?a ca?m bi�?n pha?t hi�?n ?�? �?m co? th�? tu?y chi?nh ????c. Ph�?n ?�?u ????c c??m va?o ?�?t ?�? pha?t hi�?n ?�? �?m cu?a ?�?t, khi ?�? �?m v???t ng???ng ????c thi�?t l�?p, ?�?u ra D0 se? chuy�?n tra?ng tha?i t?? m??c th�?p l�n m??c cao. 
   
2.1.4.2: Th�ng s�? ky? thu�?t:
-?i�?n a?p hoat ?�?ng: 3.3V - 5V
-Ki?ch th???c PCB: 3cm * 1.6cm
-Led ?o? ba?o ngu�?n va?o, Led xanh ba?o ?�? �?m.
-IC so sa?nh: LM393
-VCC: 3.3V-5V
-GDN: 0V
-D0: ?�?u ra ti?n hi�?u s�?(0 va? 1)
-A0: ?�?u ra Analog( Ti?n hi�?u t??ng t??).
2.1.4.3: Nguy�n ly? hoa?t ?�?ng ca?m bi�?n:
S?? h�?p thu? ?�? �?m(h?i n???c) la?m bi�?n ?�?i tha?nh ph�?n ca?m nh�?n trong ca?m bi�?n( ?? ?�y la? ca?c chat ho?a ho?c nh? LiCL, P2O5) la?m thay ?�?i ?i�?n tr?? cu?a ca?m bi�?n qua ?o? xa?c ?i?nh ????c ?�? �?m.
2.1.4.4: Ca?c c�?ng va?o ra cu?a board:
-2 ch�n vcc va? gdn c�?p ngu�?n cho ma?ch.
-2 ch�n ?�?u va?o ca?m bi�?n
-2 ch�n ?�?u ra g�?m D0 va? A0
-1 ma?ch so sa?nh
2.1.4.5: ??ng du?ng:
Module ca?m bi�?n ?�? �?m ?�?t co? 2 ?�?u ra D0 va? A0 v??i ca?c mu?c ?i?ch ?i�?u khi�?n kha?c nhau, phu? thu�?c va?o nhu c�?u cu?a d?? a?n.
Module ca?m bi�?n ?�? �?m ?�?t thi?ch h??p v??i ca?c d?? a?n v�? quan tr??c m�i tr???ng, ??ng du?ng trong n�ng nghi�?p,..
??ng du?ng ti?nh n?ng digital:
H???ng d�?n s?? du?ng module ca?m bi�?n ?�? �?m ?�? la?m b�? t???i n???c t?? ?�?ng.
C�?n chu�?n bi? ca?c module va? thi�?t bi? sau:
-Module ca?m bi�?n ?�? �?m ?�?t
-B?m mini
-Module r? le
-Nguy�n li? hoa?t ?�?ng cu?a b�? t???i n???c t?? ?�?ng s?? du?ng module ca?m bi�?n ?�? �?m: Khi ?�?t kh�, module ca?m bi�?n ??a ra ch�n D0 m??c 1. Module role kh�ng hoa?t ?�?ng n�n b?m hoa?t ?�?ng. Khi n???c ?u? �?m, ch�n D0 xu�?ng m??c 0, module Role hoa?t ?�?ng n�n b?m kh�ng hoa?t ?�?ng.
2.1.5: T�?ng quan DHT11:
2.1.5.1: Kha?i ni�?m:
DHT11 la? ca?m bi�?n nhi�?t ?�?, ?�? �?m r�?t th�ng du?ng hi�?n nay vi? chi phi? re? va? r�?t d�? l�?y d?? li�?u th�ng qua giao ti�?p 1-wire (giao ti�?p digital 1-wire truy�?n d?? li�?u duy nh�?t). Ca?m bi�?n ????c ti?ch h?p b�? ti�?n x?? ly? ti?n hi�u giu?p d?? li�?u nh�?n ve? ????c chi?nh xa?c ma? kh�ng c�?n pha?i qua b�?t ky? ti?nh toa?n na?o.
2.1.5.2: Th�ng s�? ky? thu�?t:
- ?i�?n a?p hoa?t ?�?ng: 3V � 5V (DC)
- Da?i ?�? �?m hoa?t ?�?ng: 20% - 90% RH, sai s�? �5%RH
- Da?i nhi�?t d�? hoa?t ?�?ng: 0�C ~ 50�C, sai s�? � 2�C
- T�?n s�? l�?y m�?u t�?i ?a: 1Hz
- Khoa?ng ca?ch truy�?n t�?i ?a: 20m
- S? ?�? ch�n ca?m bi�?n DHT11 g�?m 2 ch�n c�?p ngu�?n va? 1 ch�n ti?n hi�?u. Hi�?n nay, th�ng du?ng ngoa?i thi? tr???ng co? hai loa?i ?o?ng go?i cho DHT11: 3 ch�n va? 4 ch�n.

Nh�?n xe?t: Ca?m bi�?n nhi�?t ?�?, ?�? �?m DHT11 v??i gia? tha?nh re?, d�? s?? du?ng, thi?ch h??p s?? du?ng trong ca?c ??ng du?ng y�u c�?u ?�? chi?nh xa?c kh�ng cao, m�i tr???ng kh�ng kh??c nghi�?t. 
2.1.5.3: Nguy�n ly? hoa?t ?�?ng:
C?m bi?n DHT11 s? d?ng hai th�nh ph?n ch�nh ?? ?o nhi?t ?? v� ?? ?m: c?m bi?n ?? ?m ?i?n dung v� nhi?t ?i?n tr?. C?m bi?n ?? ?m ?o l??ng h?i ?m trong kh�ng kh�, trong khi nhi?t ?i?n tr? ?o nhi?t ??. Khi nhi?t ?? ho?c ?? ?m thay ??i, ?i?n tr? c?a nhi?t ?i?n tr? ho?c ?i?n dung c?a c?m bi?n ?? ?m c?ng thay ??i t??ng ?ng, d?n ??n s? thay ??i t�n hi?u ?i?n. Sau ?�, c?m bi?n chuy?n ??i nh?ng thay ??i n�y th�nh t�n hi?u s? c� th? ???c ??c b?i vi ?i?u khi?n.
C?m bi?n DHT11 s? d?ng giao di?n m?t d�y ?? giao ti?p v?i vi ?i?u khi?n. C?m bi?n g?i t�n hi?u ??n vi ?i?u khi?n, k�ch ho?t c?m bi?n ??c gi� tr?. Sau ?�, c?m bi?n g?i gi� tr? ??c tr? l?i vi ?i?u khi?n, c� th? ???c s? d?ng ?? ?i?u khi?n c�c thi?t b? kh�c ho?c hi?n th? gi� tr? nhi?t ?? v� ?? ?m.
2.1.5.4: ??ng du?ng cu?a ca?m bi�?n:
C?m bi?n DHT11 ???c ?ng d?ng trong nhi?u l?nh v?c nh? kh? n?ng ?o nhi?t ?? v� ?? ?m v?i chi ph� th?p: 
-T? ??ng h�a nh� ?: Theo d�i nhi?t ?? v� ?? ?m trong h? th?ng nh� th�ng minh (b? ?i?u nhi?t, m�y t?o ?? ?m). V� d?, n?u ?? ?m qu� cao, h? th?ng k�ch ho?t m�y h�t ?m ?? duy tr� m�i tr??ng tho?i m�i. 
-Gi�m s�t th?i ti?t: S? d?ng trong tr?m kh� t??ng ho?c khinh kh� c?u th?i ti?t ?? ?o nhi?t ?? v� ?? ?m, h? tr? d? b�o th?i ti?t ch�nh x�c. V� d?, ?? ?m cao c� th? b�o hi?u kh? n?ng m?a. 
-N�ng nghi?p: Gi�m s�t ?i?u ki?n trong nh� k�nh ho?c ru?ng tr?ng ?? t?i ?u h�a m�i tr??ng cho c�y tr?ng. V� d?, n?u ?? ?m qu� cao, n�ng d�n c� th? l?p qu?t ?? c?i thi?n l?u th�ng kh�ng kh�. 
-?i?u khi?n c�ng nghi?p: ?ng d?ng trong h? th?ng HVAC ho?c thi?t b? l�m l?nh ?? ??m b?o thi?t b? ho?t ??ng t?i ?u. V� d?, n?u nhi?t ?? trong thi?t b? l�m l?nh t?ng cao, h? th?ng k�ch ho?t m�y n�n ?? l�m m�t. 
-Y t?: S? d?ng trong l?ng ?p ho?c thi?t b? y t? ?? duy tr� m�i tr??ng an to�n cho b?nh nh�n. V� d?, n?u ?? ?m qu� th?p, h? th?ng c?nh b�o ?? ?i?u ch?nh, tr�nh g�y v?n ?? h� h?p.

2.1.6: T�?ng quan BH1750:
2.1.6.1: Kha?i ni�?m:
BH1750 l� c?m bi?n �nh s�ng digital s? d?ng ph? bi?n ? ?i?n tho?i di ??ng ?? ?i?u ch?nh ?? s�ng m�n h�nh d?a tr�n �nh s�ng m�i tr??ng. C?m bi?n ?o ch�nh x�c ??n ??n v? LUX c?a �nh s�ng l�n ??n 65535lx.

2.1.6.2: Th�ng s�? ky? thu�?t:
-Ngu?n cung c?p: 2.4V-3.6V (th??ng l� 3.0V)
-Ti�u th? d�ng ?i?n th?p: 0,12mA
-Kho?ng gi� tr? ?o: 1-65535lx
-Giao th?c giao ti?p d? li?u: I2C bus
-?? ch�nh x�c: +/- 20%
-T�ch h?p b? chuy?n ??i A / D ?? chuy?n ??i ?? s�ng analog sang d? li?u digital.
-Nhi?u r?t nh? do b?c x? h?ng ngo?i
-?? nh?y cao g?n v?i m?t ng??i.
2.1.6.3: Nguy�n ly? hoa?t ?�?ng ca?m bi�?n:
C?m bi?n BH1750 s? d?ng m?t photodiode ?? ?o c??ng ?? �nh s�ng m�i tr??ng. Photodiode h?p th? n?ng l??ng �nh s�ng v� chuy?n ??i th�nh d�ng ?i?n t? l? v?i c??ng ?? �nh s�ng. D�ng ?i?n n�y ???c khu?ch ??i v� chuy?n ??i th�nh t�n hi?u s? 16-bit th�ng qua b? chuy?n ??i analog-s? (ADC) t�ch h?p. Gi� tr? ??u ra ???c bi?u di?n ? ??n v? lux, v?i d?i ?o t? 1 lux ??n 65.535 lux, ph� h?p cho c? m�i tr??ng �nh s�ng y?u v� m?nh. C?m bi?n ???c thi?t k? ??c bi?t ?? ?i?u ch?nh ?? s�ng backlight c?a m�n h�nh ho?c b�n ph�m tr�n thi?t b? di ??ng, ??m b?o ?? ch�nh x�c cao m� kh�ng c?n hi?u ch?nh ph?c t?p.
2.1.6.4: Ca?c c�?ng va?o ra cu?a board:
-VCC: ch�n c?p ngu?n module t? 2.4V ??n 3.6V, th??ng s? d?ng 3V
-GDN: ch�n n�?i ?�?t
-SCL: ch�n xung clock c?p xung nh?p cho giao th?c I2C
-SDA: ch�n truy�?n d?? li�?u giao th??c I2C
-ADDR: ch�n ??a ch? ch?n ??a ch? thi?t b? giao ti?p khi c� nhi?u h?n hai module k?t n?i
2.1.6.5: ??ng du?ng:
 - ?i?u ch?nh ?? s�ng m�n h�nh: T? ??ng ?i?u ch?nh backlight c?a m�n h�nh LCD ho?c b�n ph�m tr�n ?i?n tho?i, m�y t�nh b?ng, TV ?? ti?t ki?m n?ng l??ng v� c?i thi?n tr?i nghi?m ng??i d�ng.
 - H? th?ng chi?u s�ng th�ng minh: T? ??ng b?t/t?t ho?c ?i?u ch?nh ?? s�ng ?�n trong nh� th�ng minh d?a tr�n m?c �nh s�ng m�i tr??ng.
 - � t�: ?i?u khi?n ?�n pha ho?c chi?u s�ng n?i th?t d?a tr�n ?i?u ki?n �nh s�ng b�n ngo�i.
 - N�ng nghi?p: Gi�m s�t c??ng ?? �nh s�ng trong nh� k�nh ?? t?i ?u h�a ?i?u ki?n cho c�y tr?ng. 
- IoT: T�ch h?p v?i c�c n?n t?ng nh? ESP8266 ?? g?i d? li?u �nh s�ng l�n ?�m m�y, ph?c v? c�c ?ng d?ng gi�m s�t th?i ti?t ho?c t? ??ng h�a.
2.1.7: T�?ng quan pH:
C?m bi?n pH (hay c�n g?i l� ?i?n c?c pH) l� m?t thi?t b? ?o l??ng ?? axit ho?c ki?m c?a dung d?ch ho?c ch?t l?ng, d?a tr�n n?ng ?? ion hydro (H+). pH ???c ??nh ngh?a l� gi� tr? �m logarit c? s? 10 c?a n?ng ?? H+ (pH = -log[H+]), v?i thang ?o t? 0 ??n 14: pH < 7 l� axit, pH = 7 l� trung t�nh, pH > 7 l� ki?m. C?m bi?n pH th??ng ???c s? d?ng ?? gi�m s�t ch?t l??ng n??c, dung d?ch h�a ch?t ho?c m�i tr??ng sinh h?c, v� c� nhi?u lo?i nh? ?i?n c?c k�nh (glass electrode), ISFET (Ion-Sensitive Field-Effect Transistor), ho?c c?m bi?n k?t h?p (combination sensor).
2.1.7.1: Th�ng s? k? thu?t:
-D?i ?o pH: 0 ??n 14 (m?t s? lo?i m? r?ng ??n -2 ??n 16 cho ?ng d?ng ??c bi?t).
-?? ch�nh x�c: �0.01 ??n �0.1 pH (v� d?: �0.02 pH ? ?i?u ki?n ti�u chu?n).
-Th?i gian ph?n h?i: 1-10 gi�y (nhanh h?n ? c?m bi?n cao c?p).
-Nhi?t ?? ho?t ??ng: 0�C ??n 100�C (c?n b� nhi?t ?? t? ??ng v� pH thay ??i theo nhi?t ??, theo h? s? kho?ng 0.003 pH/�C).
-?i?n th? ??u ra: Theo ph??ng tr�nh Nernst, kho?ng 59.16 mV/pH ? 25�C (tuy?n t�nh v?i pH).
-Tu?i th?: 6-24 th�ng (t�y ch?t l??ng v� b?o d??ng, c?n hi?u chu?n ??nh k? v?i dung d?ch chu?n pH 4, 7, 10).
-Ngu?n ?i?n: 5V-12V DC (cho module ?i?n t?), ti�u th? th?p (kho?ng 5-10mA).
-Giao ti?p: Analog (0-5V) ho?c digital (I2C, RS485) cho t�ch h?p v?i microcontroller nh? Arduino/ESP32. C?m bi?n c?n b?o d??ng nh? ng�m trong dung d?ch b?o qu?n (KCl 3M) ?? tr�nh kh� m�ng k�nh.
2.1.7.2: Nguy�n l� ho?t ??ng c?a c?m bi?n:
C?m bi?n ?o ?? pH ho?t ??ng d?a tr�n nguy�n l� ?o ?? ch�nh l?ch th? ?i?n gi?a ?i?n c?c pH v� ?i?n c?c tham chi?u. ?i?n c?c pH c� ?? nh?y cao ??i v?i ?? pH c?a m�i tr??ng, khi m�i tr??ng c� ?? pH thay ??i th� ?? ch�nh l?ch th? ?i?n gi?a ?i?n c?c pH v� ?i?n c?c tham chi?u c?ng thay ??i. B? khu?ch ??i s? khu?ch ??i ?? ch�nh l?ch th? ?i?n n�y, sau ?� t�n hi?u ???c x? l� v� hi?n th? b?ng c�c thi?t b? ?o l??ng.
2.1.7.3: ?ng d?ng:
-C�ng nghi?p h�a ch?t v� s?n xu?t: Gi�m s�t pH trong qu� tr�nh pha ch? h�a ch?t, x? l� n??c th?i, s?n xu?t th?c ph?m (nh? bia, s?a) ?? ki?m so�t ch?t l??ng v� ph?n ?ng h�a h?c.
-N�ng nghi?p v� th?y canh: ?o pH ??t ho?c n??c t??i ?? ?i?u ch?nh dinh d??ng cho c�y tr?ng, tr�nh thi?u h?t kho�ng ch?t (pH l� t??ng 5.5-6.5 cho hydroponics).
M�i tr??ng: Gi�m s�t ch?t l??ng n??c s�ng, h?, bi?n ?? ph�t hi?n � nhi?m axit (acid rain) ho?c ki?m h�a.
-Y t? v� sinh h?c: ?o pH m�u (7.35-7.45), n??c ti?u, ho?c trong l?ng ?p tr? s? sinh ?? theo d�i s?c kh?e; s? d?ng trong ph�ng th� nghi?m sinh h?c ph�n t?.
-Th?y s?n v� b? c�: Duy tr� pH ?n ??nh (6.5-8.0) ?? c� v� th?c v?t th?y sinh ph�t tri?n kh?e m?nh.
-H? th?ng IoT v� t? ??ng h�a: T�ch h?p v?i ESP32/Arduino ?? g?i d? li?u th?i gian th?c l�n cloud, t? ??ng ?i?u ch?nh pH b?ng b?m axit/ki?m trong h? th?ng x? l� n??c ho?c nh� k�nh th�ng minh.
-C�c ?ng d?ng kh�c: Trong ng�nh d??c ph?m (ki?m so�t s?n xu?t thu?c), m? ph?m (ki?m tra ?? pH kem d??ng), v� gi�o d?c (th� nghi?m h�a h?c).
2.1.8: T?ng quan TDS:
C?m bi?n TDS (Total Dissolved Solids Sensor) l� thi?t b? ?o l??ng t?ng l??ng ch?t r?n h�a tan trong n??c, bao g?m mu?i, kho�ng ch?t, kim lo?i v� c�c ch?t v� c? kh�c. TDS ???c bi?u th? b?ng ??n v? ppm (parts per million) ho?c mg/L, gi�p ?�nh gi� ?? tinh khi?t v� ch?t l??ng n??c. C?m bi?n n�y kh�ng ?o tr?c ti?p c�c ch?t c? th? m� d?a v�o t�nh ch?t d?n ?i?n c?a n??c ?? ??c l??ng t?ng ch?t h�a tan, v� c�c ch?t h�a tan ion h�a t?ng kh? n?ng d?n ?i?n c?a n??c. ?�y l� c�ng c? ph? bi?n trong gi�m s�t m�i tr??ng n??c, kh�ng ?o ???c ch?t r?n l? l?ng (TSS) ho?c ch?t h?u c? kh�ng d?n ?i?n








* ESP 32, C?m bi?n Soil, DHT11, BH1750, pH, TDS. (vi?t c?u t?o c? b?n v� ch?c n?ng c?a t?ng c?m bi?n 
* M� h�nh IoT ph? bi?n (Node.js, Firebase, MQTT).
* C�c nghi�n c?u tr??c ?�y v� ?i?m m?i (?a thi?t b?, m? r?ng quy m�).


CH??NG 3: PH�N T�CH H? TH?NG
3.1: Y�u c?u ch?c n?ng
H? th?ng gi�m s�t v� ?i?u khi?n n�ng nghi?p th�ng minh IoT ???c thi?t k? ?? ?�p ?ng c�c y�u c?u ch?c n?ng
- Gi�m s�t d? li?u c?m bi?n theo th?i gian th?c (real-time):
- H? th?ng thu th?p v� hi?n th? c�c th�ng s? m�i tr??ng t? c�c c?m bi?n ( ?? ?m ??t, nhi?t ??, ?? ?m kh�ng kh�, c??ng ?? �nh s�ng, ?? pH, v� TDS(t?ng ch?t r?n h�a tan)).
- D? li?u ???c c?p nh?t li�n t?c, ??m b?o ng??i d�ng n?m b?t t�nh tr?ng c�y tr?ng ngay l?p t?c.
- ?i?u khi?n thi?t b? t? xa:
- Ng??i d�ng c� th? b?t t?t c�c thi?t b? nh? b?m n??c, qu?t th�ng gi� v� ?�n chi?u s�ng th�ng qua ?ng d?ng di ??ng.
- H? tr? ?i?u khi?n th? c�ng ho?c t? ??ng d?a tr�n ng??ng th�ng s? m�i tr??ng.
- ??t l?ch ?i?u khi?n t? ??ng:
- Cho ph�p ng??i d�ng thi?t l?p l?ch tr�nh t??i n??c, b?t t?t qu?t, ?�n theo th?i gian c? ??nh ho?c theo ?i?u ki?n m�i tr??ng.
- Nh?n  c?nh b�o b?t th??ng:
- H? th?ng g?i th�ng b�o qua ?ng d?ng v� email khi c�c th�ng s? m�i tr??ng v??t ng??ng an to�n.
- Qu?n l� nhi?u thi?t b? th�ng qua Device ID:
- H? th?ng h? tr? qu?n l� ??ng th?i nhi?u thi?t b? IoT th�ng qua ??nh danh duy nh?t (Device ID) cho t?ng thi?t b? ESP32.
- D? li?u t? c�c thi?t b? ???c ph�n bi?t r� r�ng v� l?u tr? ri�ng bi?t d? li?u c?a t?ng thi?t b? khu v?c.
- L?u tr? v� ph�n t�ch d? li?u:
- D? li?u t? c?m bi?n ???c l?u tr? tr�n c? s? d? li?u ?? ph?c v? ph�n t�ch d�i h?n, h? tr? t?i ?u h�a ch?m s�c c�y tr?ng v� h??ng t?i t�ch h?p AI/GIS trong t??ng lai.
3.2: Ma tr?n Ng??i d�ng � Ch?c n?ng
Ng??i d�ng/H? th?ng
Ch?c n?ng
Ng??i d�ng (App)
- Xem d? li?u c?m bi?n (?? ?m ??t, nhi?t ??, �nh s�ng, pH, TDS) theo th?i gian th?c. 
- ?i?u khi?n b?m, qu?t, ?�n (th? c�ng ho?c t? ??ng). 
- ??t l?ch t??i ho?c ?i?u khi?n thi?t b?. 
- Nh?n c?nh b�o qua ?ng d?ng ho?c email khi c� b?t th??ng. 
- Qu?n l� danh s�ch thi?t b? theo Device ID.

H? th?ng Server
- L?u tr? d? li?u c?m bi?n v�o c? s? d? li?u MongoDB. 
- X? l� logic t? ??ng (v� d?: b?t b?m khi ?? ?m ??t < ng??ng). 
- G?i c?nh b�o qua FCM ho?c email khi ph�t hi?n b?t th??ng. 
- Cung c?p API ?? giao ti?p gi?a thi?t b? IoT v� ?ng d?ng Flutter. 
- Ph�n bi?t d? li?u v� l?nh ?i?u khi?n theo Device ID.
Thi?t b? IoT (ESP32)
- Thu th?p d? li?u t? c?m bi?n (Soil Moisture, DHT11, BH1750, pH, TDS). 
- G?i d? li?u c?m bi?n k�m Device ID ??n server qua giao th?c MQTT/HTTP. 
- Nh?n v� th?c thi l?nh ?i?u khi?n relay (b?t/t?t b?m, qu?t, ?�n).
3.3: Bi?u ?? m� h�nh
S? ?? kh?i ch?c n?ng (Block diagram).
- S? ?? t?ng quan IoT System Architecture

Bi?u ?? 3.31 H? th?ng IoT � Ki?n tr�c t?ng quan

- S? ?? chi ti?t thi?t b? IoT (ESP32 Device Block Diagram)

Bi?u ?? 3.32 S? ?? kh?i thi?t b? IoT (ESP32)

   Flowchart x? l� t? ??ng (v� d?: ?? ?m < ng??ng ? b?t b?m).		

Use Case Diagram.



B?ng m� t? chi ti?t c�c use case diagram:
M� UC
T�n Use Case
T�c nh�n ch�nh
M?c ti�u
?i?u ki?n ti�n quy?t
Lu?ng ch�nh (Main Flow)
?i?u ki?n sau
UC1
??ng k� t�i kho?n (Sign Up)
Ng??i d�ng (Farmer)
T?o t�i kho?n ?? s? d?ng h? th?ng
Ng??i d�ng ch?a c� t�i kho?n
1. Ng??i d�ng nh?p email, m?t kh?u ? 2. App g?i POST /api/auth/register ? 3. Server ki?m tra v� l?u v�o DB ? 4. Tr? v? k?t qu?
Ng??i d�ng c� t�i kho?n h?p l?
UC2
??ng nh?p (Login)
Ng??i d�ng (Farmer), Admin
Truy c?p h? th?ng b?ng t�i kho?n
Ng??i d�ng ?� ??ng k�
1. Nh?p email + m?t kh?u ? 2. App g?i POST /api/auth/login ? 3. Server x�c th?c ? 4. Tr? v? AccessToken + RefreshToken
Ng??i d�ng c� token ?? s? d?ng c�c ch?c n?ng
UC3
Refresh Token
Ng??i d�ng (Farmer), Admin
C?p l?i AccessToken khi h?t h?n
C� RefreshToken h?p l?
1. App g?i POST /api/auth/refresh ? 2. Server ki?m tra token ? 3. Sinh AccessToken m?i ? 4. Tr? v? App
Ng??i d�ng ti?p t?c s? d?ng h? th?ng m� kh�ng c?n login l?i
UC4
??ng xu?t (Logout)
Ng??i d�ng (Farmer), Admin
K?t th�c phi�n l�m vi?c
Ng??i d�ng ?� ??ng nh?p
1. App g?i POST /api/auth/logout ? 2. Server xo�/kh�a RefreshToken trong DB
Ng??i d�ng c?n ??ng nh?p l?i ?? ti?p t?c
UC5
Xem dashboard & d? li?u
Ng??i d�ng (Farmer)
Xem d? li?u c?m bi?n theo th?i gian th?c
Ng??i d�ng ?� ??ng nh?p; Thi?t b? g?i d? li?u l�n server
1. Ng??i d�ng m? app ? 2. Server tr? v? d? li?u m?i nh?t t? DB ? 3. App hi?n th? dashboard
Ng??i d�ng xem ???c d? li?u c?p nh?t
UC6
?i?u khi?n th? c�ng thi?t b?
Ng??i d�ng (Farmer)
B?t/t?t b?m, qu?t, ?�n t? app ho?c n�t nh?n t?i thi?t b?
Ng??i d�ng ??ng nh?p (n?u d�ng App); Thi?t b? online
(A) App: 1. Ch?n thi?t b? ? 2. App g?i l?nh ? 3. Server ghi DB ? 4. G?i ??n ESP32 ? 5. ESP32 b?t relay ? 6. Tr? ACK ? 7. App hi?n th?. 
(B) N�t nh?n: 1. User nh?n n�t ? 2. ESP32 ??i tr?ng th�i ? 3. C?p nh?t DB ? 4. ??ng b? App
Thi?t b? thay ??i tr?ng th�i ?�ng; DB v� App ??ng b?
UC7
T?o/C?p nh?t l?ch ?i?u khi?n
Ng??i d�ng (Farmer)
L?p l?ch t??i/chi?u s�ng ??nh k?
Ng??i d�ng ??ng nh?p; Thi?t b? ?� ??ng k�
1. User nh?p th�ng tin l?ch ? 2. App g?i y�u c?u ? 3. Server l?u DB ? 4. Scheduler s? k�ch ho?t khi ??n gi?
L?ch ???c l?u DB v� th?c thi t? ??ng
UC8
Nh?n c?nh b�o
Ng??i d�ng (Farmer)
Nh?n c?nh b�o khi th�ng s? v??t ng??ng
Ng??i d�ng ??ng k� nh?n c?nh b�o (token/email)
1. ESP32 g?i d? li?u ? 2. Server l?u DB ? 3. Ki?m tra ng??ng ? 4. N?u b?t th??ng ? T?o Alert ? G?i qua FCM/Email ? 5. User nh?n th�ng b�o
Ng??i d�ng bi?t s? c?; Alert l?u DB
UC9
Qu?n l� danh s�ch thi?t b?
Ng??i d�ng (Farmer)
Th�m, x�a, ??i t�n, xem tr?ng th�i thi?t b?
Ng??i d�ng ??ng nh?p
1. User m? danh s�ch ? 2. App g?i API ? 3. Server tr? v? danh s�ch thi?t b?
Ng??i d�ng qu?n l� ???c thi?t b?
UC10
Qu?n tr? ng??i d�ng
Qu?n tr? (Admin)
Qu?n l� t�i kho?n (t?o, kho�, ph�n quy?n)
Admin ??ng nh?p
1. Admin m? trang qu?n tr? ? 2. Ch?n th�m/s?a/xo� user ? 3. Server c?p nh?t DB
User ???c th�m/s?a/xo� ?�ng
UC11
Qu?n tr? thi?t b?
Qu?n tr? (Admin)
Qu?n l� thi?t b? to�n h? th?ng
Admin ??ng nh?p
1. Admin xem danh s�ch ? 2. S?a/xo�/OTA firmware ? 3. Server c?p nh?t DB & g?i l?nh thi?t b?
Thi?t b? ???c qu?n l� t?p trung
UC12
Xem logs h? th?ng
Qu?n tr? (Admin)
Theo d�i ho?t ??ng, ph�t hi?n l?i
Admin ??ng nh?p
1. Admin m? dashboard logs ? 2. Server truy v?n DB ? 3. Hi?n th? k?t qu?
Admin xem l?ch s? ho?t ??ng
UC13
G?i d? li?u c?m bi?n
Thi?t b? IoT (ESP32)
G?i d? li?u ?o l�n server
Thi?t b? ?� k�ch ho?t, c� k?t n?i m?ng
1. ESP32 ??c sensor ? 2. G?i d? li?u (HTTP/MQTT) ? 3. Server l?u DB ? 4. App c?p nh?t realtime
D? li?u l?u DB v� hi?n th? App
UC14
Nh?n l?nh ?i?u khi?n
Thi?t b? IoT (ESP32)
Nh?n v� th?c thi l?nh t? server
Thi?t b? online, ?� ??ng k�
1. Server g?i l?nh ? 2. ESP32 nh?n ? 3. B?t/t?t relay ? 4. G?i ACK v? server
Thi?t b? th?c hi?n l?nh; DB c?p nh?t
UC15
??ng k�/K�ch ho?t thi?t b?
Thi?t b? IoT (ESP32), Ng??i d�ng
??ng k� DeviceID v�o h? th?ng
Ng??i d�ng c� t�i kho?n; ESP32 c� DeviceID
1. User nh?p DeviceID ? 2. Server l?u DB (pending) ? 3. ESP32 g?i secretKey ? 4. Server active thi?t b?
Thi?t b? active, g?n v?i user
UC16
K�ch ho?t l?ch ?� l�n
Scheduler
Th?c thi l?ch ??nh s?n
C� l?ch h?p l? trong DB
1. Scheduler qu�t DB ? 2. T�m l?ch ??n h?n ? 3. G?i l?nh ?i?u khi?n ??n server ? 4. Server g?i l?nh xu?ng ESP32 ? 5. ESP32 th?c thi
L?nh ???c th?c hi?n ?�ng gi?; DB l?u tr?ng th�i



Bi?u ?? tu?n t? 
Lu?ng d? li?u c?m bi?n v� ?i?u khi?n thi?t b? IoT

Bi?u ?? 3.33: Sequence Diagram � Lu?ng d? li?u c?m bi?n v� ?i?u khi?n thi?t b? IoT

Ng??i d�ng xem d? li?u c?m bi?n

Bi?u ?? 3.34: Sequence Diagram - Ng??i d�ng xem d? li?u c?m bi?n

Ng??i d�ng ?i?u khi?n th? c�ng thi?t b?

Bi?u ?? 3.35: Sequence Diagram - Ng??i d�ng ?i?u khi?n th? c�ng thi?t b?

T?o/C?p nh?t l?ch ?i?u khi?n

Bi?u ?? 3.36 Sequence Diagram - T?o/C?p nh?t l?ch ?i?u khi?n

Nh?n c?nh b�o khi v??t ng??ng

Bi?u ?? 3.37:  Sequence Diagram - Nh?n c?nh b�o khi v??t ng??ng



??ng k�/K�ch ho?t thi?t b?

Bi?u ?? 3.38: Sequence Diagram - ??ng k�/K�ch ho?t thi?t b?

Auth Flow (??ng nh?p & Refresh Token)

Bi?u ?? l?p

Database Design � H? th?ng IoT N�ng nghi?p

Bi?u ?? Entity-Relationship



CH??NG 4: Thi?t k? h? th?ng
4.1: Ki?n tr�c t?ng th? (thi?t b? � server � app, ?a thi?t b?).
H? th?ng IoT n�ng nghi?p ???c thi?t k? d?a tr�n m� h�nh ?a thi?t b? � server � ?ng d?ng di ??ng, nh?m ??m b?o t�nh m? r?ng, kh? n?ng qu?n l� t?p trung v� h? tr? nhi?u ng??i d�ng c�ng l�c.
C? th?, c�c th�nh ph?n ch�nh bao g?m:
* Thi?t b? IoT (ESP32): m?i thi?t b? g?n v?i m?t ho?c nhi?u c?m bi?n (DHT11/DHT22, ?? ?m ??t, pH, TDS�) v� relay ?i?u khi?n b?m, qu?t, ?�n. C�c thi?t b? n�y ??nh k? thu th?p d? li?u c?m bi?n v� g?i l�n server th�ng qua giao th?c HTTP ho?c MQTT. ??ng th?i, ESP32 c?ng c� kh? n?ng nh?n l?nh ?i?u khi?n t? server ho?c th?c hi?n t�c ??ng tr?c ti?p t? n�t nh?n c?c b?.
* Server (Backend Node.js + MongoDB): ??m nh?n vai tr� trung t�m, qu?n l� to�n b? d? li?u v� logic x? l�. Server cung c?p API cho ?ng d?ng di ??ng, nh?n d? li?u c?m bi?n t? thi?t b?, ph�t l?nh ?i?u khi?n ??n thi?t b?, l?u tr? th�ng tin ng??i d�ng v� thi?t b? trong c? s? d? li?u MongoDB. H? th?ng c� t�ch h?p Scheduler Service ?? k�ch ho?t l?ch t? ??ng v� Notifier Service ?? g?i th�ng b�o (qua FCM/Email) khi ph�t hi?n b?t th??ng.
* ?ng d?ng di ??ng (Flutter App): cung c?p giao di?n ?? ng??i d�ng t??ng t�c v?i h? th?ng. ?ng d?ng cho ph�p ??ng nh?p, qu?n l� danh s�ch thi?t b?, xem d? li?u c?m bi?n theo th?i gian th?c, ?i?u khi?n thi?t b? th? c�ng, thi?t l?p l?ch t??i/chi?u s�ng v� nh?n c?nh b�o t? h? th?ng.
S? ?? ki?n tr�c t?ng th?:

4.2: Thi?t k? ph?n c?ng (s? ?? k?t n?i ESP32 � c?m bi?n � relay).
Ph?n c?ng c?a h? th?ng ???c x�y d?ng xoay quanh ESP32, m?t vi ?i?u khi?n c� kh? n?ng k?t n?i Wi-Fi v� x? l� d? li?u nhanh ch�ng. C�c th�nh ph?n ch�nh bao g?m:
* C?m bi?n: DHT11/DHT22 (nhi?t ??, ?? ?m kh�ng kh�), Soil Moisture (?? ?m ??t), pH, TDS (ch? s? ch?t r?n h�a tan).
* Relay: m?ch ?�ng/ng?t ngu?n ?i?n cho b?m, ?�n ho?c qu?t.
* N�t nh?n: n�t ?i?u khi?n tr?c ti?p, cho ph�p b?t/t?t thi?t b? t?i ch? m� kh�ng c?n th�ng qua ?ng d?ng.
Nguy�n l� ho?t ??ng: ESP32 ??nh k? ??c d? li?u c?m bi?n, g?i d? li?u k�m DeviceID l�n server. Server l?u tr? v� ??ng b? d? li?u cho ?ng d?ng di ??ng. Ng??i d�ng c� th? g?i l?nh ?i?u khi?n t? app ho?c nh?n tr?c ti?p n�t t?i thi?t b?, ESP32 s? c?p nh?t tr?ng th�i v� ph?n h?i v? server.
S? ?? k?t n?i d�y:
Thi?t b?
Ch�n tr�n module
ESP32 pin
Ghi ch�
DHT11
VCC
3V3
DATA ? GPIO4, c?n pull-up ~4.7k

DATA
GPIO4

Soil Moisture module
OUT
GPIO34 (ADC)
N?u module d�ng 5V output th� d�ng divider
pH module (OUT)
OUT
GPIO35 (ADC)
D�ng module pH c� op-amp; output 0�3.3V
TDS module
OUT
GPIO32 (ADC)
D�ng module TDS c� output 0�3.3V
Relay CH1 VCC
VCC
5V (adapter)
Relay VCC 5V (share GND)
Relay CH1 IN
IN1
GPIO26
N?u relay active LOW, ??o logic trong code
Relay CH2 IN
IN2
GPIO27

Relay CH3 IN
IN3
GPIO14

Relay GND
GND
GND chung
N?i GND adapter v� ESP32
Button1
one leg
GPIO25
INPUT_PULLUP, other leg ? GND
Button2
one leg
GPIO33
INPUT_PULLUP
Button3
one leg
GPIO13
INPUT_PULLUP
OLED I2C VCC
VCC
3V3
SSD1306 0.96" th??ng 3.3V
OLED I2C GND
GND
GND chung

OLED SDA
SDA
GPIO21
(I2C SDA)
OLED SCL
SCL
GPIO22
(I2C SCL)

4.3: Thi?t k? ph?n m?m:
Ph?n m?m ESP32
- ??c d? li?u c?m bi?n ??nh k?.
- G?i d? li?u JSON (c� ch?a DeviceID) qua HTTP/MQTT l�n server.
- Nh?n l?nh ?i?u khi?n relay t? server.
- ??ng b? tr?ng th�i khi ng??i d�ng thao t�c n�t nh?n c?c b?.
Ph?n m?m Backend (Node.js + MongoDB)
- Qu?n l� API cho ?ng d?ng di ??ng v� thi?t b?.
- L?u tr? th�ng tin ng??i d�ng, thi?t b?, d? li?u c?m bi?n, l?nh ?i?u khi?n, l?ch v� c?nh b�o.
- T�ch h?p Scheduler ?? t? ??ng k�ch ho?t l?ch khi ??n th?i gian quy ??nh.
- T�ch h?p Notifier ?? g?i th�ng b�o c?nh b�o qua FCM/Email.
Ph?n m?m ?ng d?ng di ??ng (Flutter)
- Qu?n l� ??ng nh?p, ??ng k� ng??i d�ng.
- Hi?n th? danh s�ch thi?t b? v� tr?ng th�i ho?t ??ng.
- Dashboard chi ti?t v?i d? li?u c?m bi?n th?i gian th?c.
- ?i?u khi?n th? c�ng thi?t b? (ON/OFF).
- T?o v� qu?n l� l?ch ?i?u khi?n.
- Nh?n c?nh b�o t? h? th?ng.
- G?i d? li?u c?m bi?n.
- ?i?u khi?n th? c�ng thi?t b?.
- Th?c thi l?ch t? ??ng.
- ??ng nh?p v� x�c th?c ng??i d�ng.
4.4: Thi?t k? c? s? d? li?u:
* devices: l?u th�ng tin thi?t b? (ID, t�n, v? tr�, ng??i d�ng).
* sensorData: d? li?u ?o theo Device ID.
* controlCommands: l?nh ?i?u khi?n g?i t?i thi?t b?.
* users: t�i kho?n ng??i d�ng.
B?ng/Collection
Thu?c t�nh
Ki?u d? li?u
R�ng bu?c / Ghi ch�
Users
userId (PK)
String/ObjectId
Kh�a ch�nh

name
String
T�n ng??i d�ng

email
String
Unique, kh�ng tr�ng

passwordHash
String
L?u m?t kh?u ?� hash

role
String
Enum: Farmer, Admin

createdAt
Date
Ng�y t?o

updatedAt
Date
Ng�y c?p nh?t
AuthTokens
tokenId (PK)
String/ObjectId
Kh�a ch�nh

userId (FK)
String/ObjectId
Tham chi?u Users

accessToken
String
JWT/Token

refreshToken
String
JWT/Token

expiry
Date
H?n s? d?ng
Devices
deviceId (PK)
String/ObjectId
Kh�a ch�nh

name
String
T�n thi?t b?

location
String
V? tr� ??t

status
String
online/offline

ownerId (FK)
String/ObjectId
Tham chi?u Users

firmwareVersion
String
OTA firmware version

createdAt
Date
Ng�y ??ng k�
SensorData
dataId (PK)
String/ObjectId
Kh�a ch�nh

deviceId (FK)
String/ObjectId
Tham chi?u Devices

temperature
Float
�C

humidity
Float
%

soilMoisture
Float
%

pH
Float
Gi� tr? pH

timestamp
Date
Th?i ?i?m ?o
Commands
commandId (PK)
String/ObjectId
Kh�a ch�nh

deviceId (FK)
String/ObjectId
Tham chi?u Devices

userId (FK)
String/ObjectId
Ng??i g?i l?nh

action
String
ON/OFF

status
String
pending, executed, queued

createdAt
Date
Ng�y t?o

executedAt
Date
Ng�y th?c thi
Schedules
scheduleId (PK)
String/ObjectId
Kh�a ch�nh

deviceId (FK)
String/ObjectId
Tham chi?u Devices

userId (FK)
String/ObjectId
Tham chi?u Users

action
String
ON/OFF

time
Date/Time
Th?i gian th?c hi?n

repeat
String
daily, weekly

active
Boolean
B?t/T?t l?ch
Alerts
alertId (PK)
String/ObjectId
Kh�a ch�nh

deviceId (FK)
String/ObjectId
Tham chi?u Devices

type
String
warning, error

message
String
N?i dung c?nh b�o

timestamp
Date
Th?i ?i?m

read
Boolean
?� ??c/ch?a
SystemLogs
logId (PK)
String/ObjectId
Kh�a ch�nh

actor
String
User/Admin/Device

action
String
Ho?t ??ng (login, update�)

details
String
M� t? chi ti?t

timestamp
Date
Th?i ?i?m ghi log

4.5: Giao di?n App: danh s�ch thi?t b?, dashboard t?ng thi?t b?, l?ch t??i, c?nh b�o.


CH??NG 5: Gi?i ph�p c�ng ngh? v� ph?n c?ng
* C�ng ngh?: IoT, Cloud Server, MQTT/HTTP, Flutter, Node.js, MongoDB, FCM.
* Backend: Node.js + Express, REST API + WebSocket, tri?n khai Cloud.
* Frontend: Flutter App (Android/iOS).
* Database: MongoDB NoSQL.
* Kh�c: Firebase Cloud Messaging, Email Alert.
* Ph?n c?ng: ESP32, Soil Sensor, DHT11, BH1750, pH, TDS, Relay, B?m, Qu?t, ?�n.
CH??NG 6: K?t qu? v� s?n ph?m
* ?ng d?ng Mobile gi�m s�t v� ?i?u khi?n.
* H? th?ng IoT ?a thi?t b?, d? li?u real-time.
* Server l?u d? li?u, logic t? ??ng.
* Ch?c n?ng ??t l?ch, c?nh b�o App/Email.
* Dashboard bi?u ?? tr?c quan.
* Qu?n l� nhi?u thi?t b? nh? Device ID.
* C� kh? n?ng m? r?ng: AI d? ?o�n, GIS qu?n l� v�ng.
CH??NG 7: K? ho?ch v� ti?n ??
Th?i gian: 01/09/2025 � 10/11/2025.
Ti?n ??:
* Tu?n 1�2: Nghi�n c?u, k?t n?i ph?n c?ng.
* Tu?n 3�4: L?p tr�nh ESP32, giao ti?p server.
* Tu?n 5�6: Backend + Database.
* Tu?n 7: Flutter App + giao di?n.
* Tu?n 8: T�ch h?p ?a thi?t b? (Device ID).
* Tu?n 9: Test h? th?ng, vi?t b�o c�o.
CH??NG 8: K?t lu?n v� h??ng ph�t tri?n
* K?t qu?: h? th?ng gi�m s�t � ?i?u khi?n n�ng nghi?p th�ng minh, h? tr? nhi?u thi?t b?.
* L?i �ch: ti?t ki?m n??c, gi?m c�ng ch?m s�c, t?ng n?ng su?t.
* H?n ch?: ch?a t�ch h?p AI/GIS, ph?m vi demo nh?.
* H??ng ph�t tri?n: AI d? ?o�n nhu c?u t??i, GIS qu?n l� nhi?u khu v?c, d?ch v? thu� bao n�ng nghi?p.

